<Window x:Class="WpfSynthPiano.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WPF Piano" Height="650" Width="1300"
        Background="#FF2D2D30" 
        Icon="/icon.png"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <!-- Piano Key Style -->
        <Style TargetType="Button" x:Key="PianoKeyStyle">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="0,0,5,5">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Bottom"
                                              Margin="0,0,0,10"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Common Control Styles -->
        <Style TargetType="TextBlock" x:Key="LabelTextStyle">
            <Setter Property="Foreground" Value="#FFD0D0D0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,5,0"/>
        </Style>

        <Style TargetType="ComboBox" x:Key="StyledComboBox">
            <Setter Property="Background" Value="#FF3E3E3E"/>
            <Setter Property="Foreground" Value="#000"/>
            <Setter Property="BorderBrush" Value="#FF5E5E5E"/>
            <Setter Property="Height" Value="25"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
        </Style>

        <Style TargetType="CheckBox" x:Key="StyledCheckBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
        </Style>

        <Style TargetType="Slider" x:Key="StyledSlider">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FF007ACC"/>
            <Setter Property="Height" Value="25"/>
            <Setter Property="Width" Value="150"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
        </Style>

        <!-- SVG-Based Icon Resources -->
        <DrawingBrush x:Key="RecordIcon">
            <DrawingBrush.Drawing>
                <GeometryDrawing Brush="Red">
                    <GeometryDrawing.Geometry>
                        <EllipseGeometry Center="8,8" RadiusX="6" RadiusY="6"/>
                    </GeometryDrawing.Geometry>
                </GeometryDrawing>
            </DrawingBrush.Drawing>
        </DrawingBrush>

        <DrawingBrush x:Key="PlayIcon">
            <DrawingBrush.Drawing>
                <GeometryDrawing Brush="White">
                    <GeometryDrawing.Geometry>
                        <GeometryGroup>
                            <Geometry>
                                M 0,0 L 0,16 L 12,8 Z
                            </Geometry>
                        </GeometryGroup>
                    </GeometryDrawing.Geometry>
                </GeometryDrawing>
            </DrawingBrush.Drawing>
        </DrawingBrush>
        
    </Window.Resources>

    <DockPanel LastChildFill="True">

        <!-- Top Control Panel -->
        <Border DockPanel.Dock="Top" Background="#FF252526" Padding="10" BorderBrush="#FF3E3E3E" BorderThickness="0,0,0,1">
            <StackPanel Orientation="Vertical" HorizontalAlignment="Center">

                <!-- First Row: Labels, Instrument, Wave, Volume -->
                <!-- First Row: Labels, Instrument, Wave Type, Wave Volume -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,0">
                    <CheckBox Name="ShowLabelsCheckbox"
                      Content="Show Note Labels"
                      IsChecked="True"
                      Style="{StaticResource StyledCheckBox}"
                      Checked="ToggleLabels" 
                      Unchecked="ToggleLabels"/>

                    <ComboBox Name="InstrumentComboBox" 
                      Style="{StaticResource StyledComboBox}"
                      Width="220"
                      SelectionChanged="InstrumentComboBox_SelectionChanged"/>

                    <TextBlock Text="Wave Type:" Style="{StaticResource LabelTextStyle}" Margin="20,0,0,0"/>
                    <ComboBox Name="WaveTypeComboBox" 
                      Style="{StaticResource StyledComboBox}"
                      Width="140"
                      SelectionChanged="WaveTypeComboBox_SelectionChanged"/>

                    <TextBlock Text="Wave Volume:" Style="{StaticResource LabelTextStyle}" Margin="20,0,0,0"/>
                    <Slider Name="VolumeSlider" 
                        Style="{StaticResource StyledSlider}"
                        Minimum="0" 
                        Maximum="1" 
                        Value="0.05" 
                        SmallChange="0.05" 
                        LargeChange="0.1" 
                        ValueChanged="VolumeSlider_ValueChanged"/>
                    <Label Name="VolumeValueLabel" 
                       Content="5%" 
                       Foreground="#FFD0D0D0" 
                       VerticalAlignment="Center"
                       Margin="5,0,0,0"/>
                </StackPanel>

                <!-- Second Row: Octave Range, MIDI In/Out -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,15,0,0">
                    <TextBlock Text="From Octave:" Style="{StaticResource LabelTextStyle}"/>
                    <ComboBox Name="FromOctaveComboBox" 
                              Style="{StaticResource StyledComboBox}"
                              Width="70"
                              SelectionChanged="OctaveRangeChanged"/>

                    <TextBlock Text="Till Octave:" Style="{StaticResource LabelTextStyle}" Margin="10,0,0,0"/>
                    <ComboBox Name="TillOctaveComboBox" 
                              Style="{StaticResource StyledComboBox}"
                              Width="70"
                              SelectionChanged="OctaveRangeChanged"/>

                    <TextBlock Text="MIDI Out:" Style="{StaticResource LabelTextStyle}" Margin="20,0,0,0"/>
                    <ComboBox Name="MidiOutComboBox" 
                              Style="{StaticResource StyledComboBox}"
                              Width="220"
                              SelectionChanged="MidiOutComboBox_SelectionChanged"/>

                    <TextBlock Text="MIDI In:" Style="{StaticResource LabelTextStyle}" Margin="10,0,0,0"/>
                    <ComboBox Name="MidiInComboBox" 
                              Style="{StaticResource StyledComboBox}"
                              Width="220"
                              SelectionChanged="MidiInComboBox_SelectionChanged"/>
                </StackPanel>

                <!-- Third Row: Recording Buttons -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,15,0,0">
                    <Button Name="RecordButton"
                            Content="Start Recording"
                            Width="140"
                            Height="30"
                            Margin="0,0,10,0"
                            Click="RecordButton_Click"/>

                    <Button Name="PlayButton"
                            Content="Play Recording"
                            Width="140"
                            Height="30"
                            Click="PlayButton_Click"
                            IsEnabled="False"/>
                </StackPanel>

            </StackPanel>
        </Border>

        <!-- Oscilloscope Display -->
        <Border DockPanel.Dock="Top" 
                Background="#FF1E1E1E" 
                Margin="10,10,10,5" 
                BorderBrush="#FF3E3E3E" 
                BorderThickness="1"
                CornerRadius="2">
            <Canvas Name="OscilloscopeCanvas" Height="150">
                <TextBlock Text="Oscilloscope" 
                           Foreground="#FF808080" 
                           FontStyle="Italic"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Margin="0,0,0,0"/>
            </Canvas>
        </Border>

        <!-- Piano Keyboard -->
        <Border DockPanel.Dock="Bottom" 
                Background="#FF252526" 
                Margin="10,5,10,10" 
                Padding="10"
                BorderBrush="#FF3E3E3E" 
                BorderThickness="1"
                CornerRadius="2">
            <Canvas Name="PianoCanvas"/>
        </Border>
    </DockPanel>
</Window>
